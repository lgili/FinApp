[pytest]
# Adiciona backend/ ao Python path para imports funcionarem
pythonpath = backend

# Padrão de arquivos de teste
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Diretórios de teste
testpaths = tests

# Opções padrão
addopts =
    -ra
    --strict-markers
    --strict-config
    --showlocals
    --tb=short

# Markers customizados
markers =
    unit: Testes unitários puros (sem DB)
    integration: Testes de integração (com DB em memória)
    e2e: Testes end-to-end (CLI completo)
    slow: Testes lentos (skip com -m "not slow")
    asyncio: Marca testes assíncronos executados com event loop do pytest

# Ignora warnings conhecidos
filterwarnings =
    ignore::DeprecationWarning
